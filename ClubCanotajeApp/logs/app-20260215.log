2026-02-15 13:28:43.794 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 13:28:43.889 -03:00 [INF] Creating key {94e16262-7bc3-49c7-8088-3c78f80dc05b} with creation date 2026-02-15 16:28:43Z, activation date 2026-02-15 16:28:43Z, and expiration date 2026-05-16 16:28:43Z.
2026-02-15 13:28:43.901 -03:00 [INF] Writing data to file 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys\key-94e16262-7bc3-49c7-8088-3c78f80dc05b.xml'.
2026-02-15 13:28:44.220 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 13:28:44.221 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 13:28:44.265 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 13:28:44.266 -03:00 [INF] Hosting environment: Development
2026-02-15 13:28:44.266 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 13:28:47.792 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 13:28:47.963 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 175.5583ms
2026-02-15 13:28:47.968 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 13:28:47.968 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 13:28:47.974 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 6.9752ms
2026-02-15 13:28:48.634 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 666.9834ms
2026-02-15 13:28:48.660 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 13:28:48.676 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.9838ms
2026-02-15 13:31:12.288 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/Implementos - null null
2026-02-15 13:31:12.380 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador|Directiva|Entrenador)
2026-02-15 13:31:12.384 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 13:31:12.386 -03:00 [INF] HTTP GET /api/Implementos responded 401 in 79.4587 ms
2026-02-15 13:31:12.388 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/Implementos - 401 0 null 101.5308ms
2026-02-15 13:40:31.278 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 13:40:31.456 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 13:40:31.457 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 13:40:31.505 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 13:40:31.506 -03:00 [INF] Hosting environment: Development
2026-02-15 13:40:31.507 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 13:40:33.013 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 13:40:33.150 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 141.5174ms
2026-02-15 13:40:33.156 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 13:40:33.156 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 13:40:33.161 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 5.2983ms
2026-02-15 13:40:33.187 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.8637ms
2026-02-15 13:40:33.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 13:40:33.244 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.384ms
2026-02-15 13:40:51.382 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/login - application/json 61
2026-02-15 13:40:51.397 -03:00 [INF] CORS policy execution failed.
2026-02-15 13:40:51.398 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 13:40:51.460 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:40:51.481 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 13:40:52.194 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:40:52.195 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:40:52.196 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:41:09.754 -03:00 [ERR] An error occurred using the connection to database 'ClubCanotaje' on server 'localhost'.
2026-02-15 13:41:09.768 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ClubCanotajeAPI.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): El sistema no puede encontrar el archivo especificado.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): El sistema no puede encontrar el archivo especificado.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2026-02-15 13:41:09.887 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 18402.8425ms
2026-02-15 13:41:09.889 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:41:09.892 -03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 18491.2902 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): El sistema no puede encontrar el archivo especificado.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.GetByUsernameAsync(String username) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 13
   at ClubCanotajeAPI.Services.AuthService.LoginAsync(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 25
   at ClubCanotajeAPI.Controller.AuthController.Login(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 18
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2026-02-15 13:41:09.973 -03:00 [ERR] Error no controlado en /api/Auth/login
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): El sistema no puede encontrar el archivo especificado.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.GetByUsernameAsync(String username) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 13
   at ClubCanotajeAPI.Services.AuthService.LoginAsync(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 25
   at ClubCanotajeAPI.Controller.AuthController.Login(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 18
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2026-02-15 13:41:09.990 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/login - 500 null application/json 18608.242ms
2026-02-15 13:45:43.387 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 13:45:43.562 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 13:45:43.563 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 13:45:43.599 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 13:45:43.600 -03:00 [INF] Hosting environment: Development
2026-02-15 13:45:43.600 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 13:45:49.497 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 13:45:49.625 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 131.0301ms
2026-02-15 13:45:49.628 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 13:45:49.628 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 13:45:49.635 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 7.1984ms
2026-02-15 13:45:49.662 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4885ms
2026-02-15 13:45:49.704 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 13:45:49.721 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0674ms
2026-02-15 13:46:10.446 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/login - application/json 61
2026-02-15 13:46:10.457 -03:00 [INF] CORS policy execution failed.
2026-02-15 13:46:10.458 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 13:46:10.522 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:46:10.539 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 13:46:11.200 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:46:11.202 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:46:11.203 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:46:11.807 -03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 13:46:11.981 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 1438.6965ms
2026-02-15 13:46:11.982 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:46:11.985 -03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 1524.5438 ms
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at ClubCanotajeAPI.Services.AuthService.LoginAsync(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 27
   at ClubCanotajeAPI.Controller.AuthController.Login(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 18
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 13:46:12.062 -03:00 [ERR] Error no controlado en /api/Auth/login
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at ClubCanotajeAPI.Services.AuthService.LoginAsync(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 27
   at ClubCanotajeAPI.Controller.AuthController.Login(LoginRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 18
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 13:46:12.073 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/login - 500 null application/json 1627.403ms
2026-02-15 13:51:03.714 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 13:51:03.881 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 13:51:03.882 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 13:51:03.917 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 13:51:03.918 -03:00 [INF] Hosting environment: Development
2026-02-15 13:51:03.918 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 13:51:08.087 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 13:51:08.225 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 140.3855ms
2026-02-15 13:51:08.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 13:51:08.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 13:51:08.234 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 6.3585ms
2026-02-15 13:51:08.260 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4245ms
2026-02-15 13:51:08.304 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 13:51:08.322 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0414ms
2026-02-15 13:51:15.214 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/login - application/json 60
2026-02-15 13:51:15.222 -03:00 [INF] CORS policy execution failed.
2026-02-15 13:51:15.222 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 13:51:15.281 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:51:15.304 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 13:51:16.049 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:51:16.050 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:51:16.051 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 13:51:16.728 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 13:51:17.239 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 13:51:17.248 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 1939.9722ms
2026-02-15 13:51:17.249 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 13:51:17.252 -03:00 [INF] HTTP POST /api/Auth/login responded 401 in 2026.2142 ms
2026-02-15 13:51:17.258 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/login - 401 null application/json; charset=utf-8 2044.2847ms
2026-02-15 15:42:17.090 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 15:42:17.289 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 15:42:17.290 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 15:42:17.331 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 15:42:17.331 -03:00 [INF] Hosting environment: Development
2026-02-15 15:42:17.332 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 15:42:19.421 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 15:42:19.562 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 144.144ms
2026-02-15 15:42:19.565 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 15:42:19.565 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 15:42:19.582 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 16.5384ms
2026-02-15 15:42:19.602 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.5276ms
2026-02-15 15:42:19.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 15:42:19.661 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.4944ms
2026-02-15 15:43:59.463 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 15:43:59.746 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 15:43:59.747 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 15:43:59.798 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 15:43:59.800 -03:00 [INF] Hosting environment: Development
2026-02-15 15:43:59.801 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 15:44:02.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 15:44:02.586 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 221.086ms
2026-02-15 15:44:02.593 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 15:44:02.593 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 15:44:02.609 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 15.5803ms
2026-02-15 15:44:02.638 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7839ms
2026-02-15 15:44:02.697 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 15:44:02.728 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.2972ms
2026-02-15 15:44:17.154 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 104
2026-02-15 15:44:17.163 -03:00 [INF] CORS policy execution failed.
2026-02-15 15:44:17.164 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 15:44:17.259 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:44:17.288 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 15:44:18.281 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:44:18.283 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:44:18.284 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:44:19.064 -03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 15:44:19.182 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 15:44:19.192 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 15:44:19.203 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 1909.0564ms
2026-02-15 15:44:19.205 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:44:19.209 -03:00 [INF] HTTP POST /api/Auth/registrar responded 400 in 2040.4984 ms
2026-02-15 15:44:19.219 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 400 null application/json; charset=utf-8 2064.4409ms
2026-02-15 15:45:49.867 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 104
2026-02-15 15:45:49.875 -03:00 [INF] CORS policy execution failed.
2026-02-15 15:45:49.875 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 15:45:49.877 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:45:49.878 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 15:45:49.922 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 15:45:49.927 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 15:45:49.967 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 15:45:49.968 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 89.343ms
2026-02-15 15:45:49.969 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:45:49.970 -03:00 [INF] HTTP POST /api/Auth/registrar responded 400 in 93.9814 ms
2026-02-15 15:45:49.972 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 400 null application/json; charset=utf-8 105.3143ms
2026-02-15 15:56:59.219 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 15:56:59.457 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 15:56:59.459 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 15:56:59.511 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 15:56:59.512 -03:00 [INF] Hosting environment: Development
2026-02-15 15:56:59.513 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 15:57:01.058 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 15:57:01.196 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 137.5604ms
2026-02-15 15:57:01.197 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 15:57:01.197 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 15:57:01.212 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 15.5558ms
2026-02-15 15:57:01.232 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6327ms
2026-02-15 15:57:01.276 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 15:57:01.293 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0192ms
2026-02-15 15:57:23.412 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 104
2026-02-15 15:57:23.423 -03:00 [INF] CORS policy execution failed.
2026-02-15 15:57:23.425 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 15:57:23.476 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:57:23.493 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 15:57:24.122 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:57:24.123 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:57:24.124 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 15:57:24.663 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 15:57:24.761 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 15:57:25.362 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioSistema] ([activo], [fecha_creacion], [id_instructor], [id_remador], [id_rol], [password_hash], [ultimo_acceso], [username])
OUTPUT INSERTED.[id_usuario]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-15 15:57:25.387 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'ClubCanotajeAPI.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd8fbec7-40ea-47df-8d6b-98e5a484fdde
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd8fbec7-40ea-47df-8d6b-98e5a484fdde
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-15 15:57:25.527 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 2029.7855ms
2026-02-15 15:57:25.528 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 15:57:25.531 -03:00 [ERR] HTTP POST /api/Auth/registrar responded 500 in 2103.1237 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd8fbec7-40ea-47df-8d6b-98e5a484fdde
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 15:57:25.616 -03:00 [ERR] Error no controlado en /api/Auth/registrar
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd8fbec7-40ea-47df-8d6b-98e5a484fdde
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 15:57:25.633 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 500 null application/json 2220.688ms
2026-02-15 16:02:42.584 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 16:02:42.778 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 16:02:42.778 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 16:02:42.812 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 16:02:42.813 -03:00 [INF] Hosting environment: Development
2026-02-15 16:02:42.814 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 16:02:52.398 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 16:02:52.576 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 187.8969ms
2026-02-15 16:02:52.580 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 16:02:52.581 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 16:02:52.588 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 7.7457ms
2026-02-15 16:02:52.619 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4343ms
2026-02-15 16:02:52.653 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 16:02:52.674 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.4061ms
2026-02-15 16:05:15.032 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 110
2026-02-15 16:05:15.044 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:05:15.045 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:05:15.118 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:05:15.144 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:05:16.018 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:05:16.020 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:05:16.021 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:05:16.775 -03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:05:16.890 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 16:05:17.636 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioSistema] ([activo], [fecha_creacion], [id_instructor], [id_remador], [id_rol], [password_hash], [ultimo_acceso], [username])
OUTPUT INSERTED.[id_usuario]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-15 16:05:17.669 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'ClubCanotajeAPI.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-15 16:05:17.842 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 2692.5334ms
2026-02-15 16:05:17.846 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:05:17.851 -03:00 [ERR] HTTP POST /api/Auth/registrar responded 500 in 2801.2561 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 16:05:17.979 -03:00 [ERR] Error no controlado en /api/Auth/registrar
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin CHECK 'CHK_Usuario_Entidad'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.UsuarioSistema'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 16:05:18.007 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 500 null application/json 2975.3867ms
2026-02-15 16:10:10.326 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 114
2026-02-15 16:10:10.336 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:10:10.337 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:10:10.339 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:10:10.341 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:10:10.406 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:10:10.412 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 16:10:10.748 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioSistema] ([activo], [fecha_creacion], [id_instructor], [id_remador], [id_rol], [password_hash], [ultimo_acceso], [username])
OUTPUT INSERTED.[id_usuario]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-15 16:10:10.754 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'ClubCanotajeAPI.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-15 16:10:10.865 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 521.757ms
2026-02-15 16:10:10.867 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:10:10.868 -03:00 [ERR] HTTP POST /api/Auth/registrar responded 500 in 530.2292 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 16:10:10.932 -03:00 [ERR] Error no controlado en /api/Auth/registrar
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:198c7d13-00fc-4e50-9130-0bc3c3525531
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 16:10:10.946 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 500 null application/json 620.7032ms
2026-02-15 16:11:12.079 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 16:11:12.373 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 16:11:12.374 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 16:11:12.408 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 16:11:12.409 -03:00 [INF] Hosting environment: Development
2026-02-15 16:11:12.409 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 16:11:14.746 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 16:11:14.921 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 182.5252ms
2026-02-15 16:11:14.929 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 16:11:14.930 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 16:11:14.937 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 7.9753ms
2026-02-15 16:11:14.970 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1431ms
2026-02-15 16:11:15.010 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 16:11:15.033 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.5018ms
2026-02-15 16:11:45.966 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registrar - application/json 114
2026-02-15 16:11:45.979 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:11:45.980 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:11:46.038 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:11:46.062 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrar(ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:11:46.928 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:11:46.929 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:11:46.931 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:11:47.645 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:11:47.755 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[id_rol] = @__p_0
2026-02-15 16:11:48.390 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioSistema] ([activo], [fecha_creacion], [id_instructor], [id_remador], [id_rol], [password_hash], [ultimo_acceso], [username])
OUTPUT INSERTED.[id_usuario]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-15 16:11:48.415 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'ClubCanotajeAPI.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5c77f2f3-2c3e-4481-8917-7f418003d90d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5c77f2f3-2c3e-4481-8917-7f418003d90d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-15 16:11:48.551 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp) in 2484.839ms
2026-02-15 16:11:48.553 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registrar (ClubCanotajeApp)'
2026-02-15 16:11:48.557 -03:00 [ERR] HTTP POST /api/Auth/registrar responded 500 in 2573.0304 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5c77f2f3-2c3e-4481-8917-7f418003d90d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 16:11:48.651 -03:00 [ERR] Error no controlado en /api/Auth/registrar
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Instruccin INSERT en conflicto con la restriccin FOREIGN KEY 'FK_Usuario_Remador'. El conflicto ha aparecido en la base de datos 'ClubCanotaje', tabla 'dbo.Remador', column 'id_remador'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5c77f2f3-2c3e-4481-8917-7f418003d90d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearAsync(UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 42
   at ClubCanotajeAPI.Services.AuthService.RegistrarAsync(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 77
   at ClubCanotajeAPI.Controller.AuthController.Registrar(RegistrarUsuarioRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 16:11:48.670 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registrar - 500 null application/json 2704.2778ms
2026-02-15 16:31:54.506 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 16:31:54.661 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 16:31:54.661 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 16:31:54.695 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 16:31:54.696 -03:00 [INF] Hosting environment: Development
2026-02-15 16:31:54.696 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 16:31:57.237 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 16:31:57.368 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 134.017ms
2026-02-15 16:31:57.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 16:31:57.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 16:31:57.380 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 9.7879ms
2026-02-15 16:31:57.401 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.3182ms
2026-02-15 16:31:57.444 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 16:31:57.462 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.9326ms
2026-02-15 16:33:39.253 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registro - application/json 286
2026-02-15 16:33:39.262 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:33:39.263 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:33:39.320 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:33:39.337 -03:00 [INF] Route matched with {action = "Registro", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registro(ClubCanotajeAPI.Models.Dtos.Auth.RegistroPublicoRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:33:39.472 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-15 16:33:39.486 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp) in 145.0873ms
2026-02-15 16:33:39.487 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:33:39.488 -03:00 [INF] HTTP POST /api/Auth/registro responded 400 in 222.6593 ms
2026-02-15 16:33:39.491 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registro - 400 null application/problem+json; charset=utf-8 238.3542ms
2026-02-15 16:34:07.233 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registro - application/json 278
2026-02-15 16:34:07.243 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:34:07.243 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:34:07.245 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:34:07.250 -03:00 [INF] Route matched with {action = "Registro", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registro(ClubCanotajeAPI.Models.Dtos.Auth.RegistroPublicoRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:34:08.036 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:34:08.037 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:34:08.038 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:34:08.530 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:34:08.576 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__rut_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Remador] AS [r]
        WHERE [r].[rut] = @__rut_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:34:08.583 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Remador] AS [r]
        WHERE [r].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:34:08.629 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__nombre_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[nombre] = @__nombre_0
2026-02-15 16:34:08.669 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id_categoria], [c].[descripcion], [c].[edad_max], [c].[edad_min], [c].[nombre]
FROM [CategoriaRemador] AS [c]
ORDER BY [c].[id_categoria]
2026-02-15 16:34:08.689 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id_estado], [e].[descripcion], [e].[nombre]
FROM [EstadoRemador] AS [e]
WHERE [e].[nombre] = N'Activo'
2026-02-15 16:34:08.923 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'ClubCanotajeAPI.Context.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-15 16:34:09.051 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp) in 1800.0221ms
2026-02-15 16:34:09.053 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:34:09.054 -03:00 [ERR] HTTP POST /api/Auth/registro responded 500 in 1810.0068 ms
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearConRemadorAsync(Remador remador, UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 71
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearConRemadorAsync(Remador remador, UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 86
   at ClubCanotajeAPI.Services.AuthService.RegistroPublicoAsync(RegistroPublicoRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 101
   at ClubCanotajeAPI.Controller.AuthController.Registro(RegistroPublicoRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-02-15 16:34:09.126 -03:00 [ERR] Error no controlado en /api/Auth/registro
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearConRemadorAsync(Remador remador, UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 71
   at ClubCanotajeAPI.Repositories.Usuario.UsuarioRepository.CrearConRemadorAsync(Remador remador, UsuarioSistema usuario) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Repositories\Usuario\UsuarioRepository.cs:line 86
   at ClubCanotajeAPI.Services.AuthService.RegistroPublicoAsync(RegistroPublicoRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Services\AuthService.cs:line 101
   at ClubCanotajeAPI.Controller.AuthController.Registro(RegistroPublicoRequest dto) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Controller\AuthController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ClubCanotajeAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext ctx) in C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp\Middleware\ErrorHandlingMiddleware.cs:line 20
2026-02-15 16:34:09.137 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registro - 500 null application/json 1903.4422ms
2026-02-15 16:38:14.651 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 16:38:14.807 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 16:38:14.808 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 16:38:14.841 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 16:38:14.842 -03:00 [INF] Hosting environment: Development
2026-02-15 16:38:14.843 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 16:38:31.637 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 16:38:31.777 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 144.0798ms
2026-02-15 16:38:31.779 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 16:38:31.779 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 16:38:31.785 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 6.0712ms
2026-02-15 16:38:31.810 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4793ms
2026-02-15 16:38:31.849 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 16:38:31.865 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6398ms
2026-02-15 16:39:39.863 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registro - application/json 282
2026-02-15 16:39:39.873 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:39:39.874 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:39:39.934 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:39:39.951 -03:00 [INF] Route matched with {action = "Registro", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registro(ClubCanotajeAPI.Models.Dtos.Auth.RegistroPublicoRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:39:40.568 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:39:40.569 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:39:40.570 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:39:41.074 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UsuarioSistema] AS [u]
        WHERE [u].[username] = @__username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:39:41.110 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__rut_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Remador] AS [r]
        WHERE [r].[rut] = @__rut_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:39:41.115 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Remador] AS [r]
        WHERE [r].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-15 16:39:41.146 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__nombre_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id_rol], [r].[descripcion], [r].[nombre]
FROM [RolSistema] AS [r]
WHERE [r].[nombre] = @__nombre_0
2026-02-15 16:39:41.191 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id_categoria], [c].[descripcion], [c].[edad_max], [c].[edad_min], [c].[nombre]
FROM [CategoriaRemador] AS [c]
WHERE [c].[nombre] = N'Adulto'
2026-02-15 16:39:41.210 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id_estado], [e].[descripcion], [e].[nombre]
FROM [EstadoRemador] AS [e]
WHERE [e].[nombre] = N'Activo'
2026-02-15 16:39:41.818 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Date), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Date), @p9='?' (DbType = Date), @p10='?' (Size = 4000), @p11='?' (Size = 1), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 450), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Remador] ([apellido_materno], [apellido_paterno], [cert_medica_vence], [direccion], [email], [fecha_creacion], [fecha_ingreso], [fecha_modificacion], [fecha_nacimiento], [fecha_retiro], [foto_url], [genero], [id_categoria], [id_estado], [nombre_contacto_emergencia], [nombres], [observaciones], [rut], [telefono], [telefono_emergencia], [tiene_remo_propio], [tiene_salvavidas_propio])
OUTPUT INSERTED.[id_remador]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-15 16:39:41.859 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UsuarioSistema] ([activo], [fecha_creacion], [id_instructor], [id_remador], [id_rol], [password_hash], [ultimo_acceso], [username])
OUTPUT INSERTED.[id_usuario]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-15 16:39:41.873 -03:00 [INF] Executing OkObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.RegistrarUsuarioResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 16:39:41.880 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp) in 1925.6366ms
2026-02-15 16:39:41.881 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:39:41.884 -03:00 [INF] HTTP POST /api/Auth/registro responded 200 in 2006.9942 ms
2026-02-15 16:39:41.889 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registro - 200 null application/json; charset=utf-8 2026.3025ms
2026-02-15 16:40:27.615 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/login - application/json 52
2026-02-15 16:40:27.622 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:40:27.622 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:40:27.624 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:40:27.627 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:40:27.741 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 16:40:28.179 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioSistema] SET [ultimo_acceso] = @p0
OUTPUT 1
WHERE [id_usuario] = @p1;
2026-02-15 16:40:28.205 -03:00 [INF] Executing OkObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 16:40:28.210 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 581.6322ms
2026-02-15 16:40:28.211 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:40:28.212 -03:00 [INF] HTTP POST /api/Auth/login responded 200 in 589.0380 ms
2026-02-15 16:40:28.213 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/login - 200 null application/json; charset=utf-8 599.1236ms
2026-02-15 16:52:56.169 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/Auth/roles - null null
2026-02-15 16:52:56.182 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2026-02-15 16:52:56.185 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 16:52:56.186 -03:00 [INF] HTTP GET /api/Auth/roles responded 401 in 11.1369 ms
2026-02-15 16:52:56.187 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/Auth/roles - 401 0 null 19.2287ms
2026-02-15 16:53:13.217 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/Auth/roles - null null
2026-02-15 16:53:13.220 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2026-02-15 16:53:13.221 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 16:53:13.221 -03:00 [INF] HTTP GET /api/Auth/roles responded 401 in 2.6756 ms
2026-02-15 16:53:13.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/Auth/roles - 401 0 null 5.9019ms
2026-02-15 16:53:18.972 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/Canoas - null null
2026-02-15 16:53:18.976 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-15 16:53:18.977 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 16:53:18.977 -03:00 [INF] HTTP GET /api/Canoas responded 401 in 3.2318 ms
2026-02-15 16:53:18.979 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/Canoas - 401 0 null 6.7059ms
2026-02-15 16:57:03.359 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 16:57:03.564 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 16:57:03.565 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 16:57:03.604 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 16:57:03.605 -03:00 [INF] Hosting environment: Development
2026-02-15 16:57:03.606 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 16:57:07.206 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 16:57:07.346 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 143.7419ms
2026-02-15 16:57:07.349 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 16:57:07.349 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 16:57:07.362 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 12.6815ms
2026-02-15 16:57:07.387 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.8153ms
2026-02-15 16:57:07.432 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 16:57:07.453 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.1257ms
2026-02-15 16:57:33.848 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/registro - application/json 256
2026-02-15 16:57:33.859 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:57:33.860 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:57:33.908 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:57:33.926 -03:00 [INF] Route matched with {action = "Registro", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registro(ClubCanotajeAPI.Models.Dtos.Auth.RegistroPublicoRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:57:34.050 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-15 16:57:34.064 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp) in 133.8914ms
2026-02-15 16:57:34.065 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Registro (ClubCanotajeApp)'
2026-02-15 16:57:34.067 -03:00 [INF] HTTP POST /api/Auth/registro responded 400 in 204.2433 ms
2026-02-15 16:57:34.070 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/registro - 400 null application/problem+json; charset=utf-8 221.9842ms
2026-02-15 16:58:20.759 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/Auth/login - application/json 50
2026-02-15 16:58:20.767 -03:00 [INF] CORS policy execution failed.
2026-02-15 16:58:20.768 -03:00 [INF] Request origin https://localhost:7001 does not have permission to access the resource.
2026-02-15 16:58:20.770 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:58:20.785 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:58:21.354 -03:00 [WRN] No store type was specified for the decimal property 'Precio' on entity type 'TipoMembresia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:58:21.356 -03:00 [WRN] No store type was specified for the decimal property 'Monto' on entity type 'Cuota'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:58:21.357 -03:00 [WRN] No store type was specified for the decimal property 'MontoPagado' on entity type 'Pago'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-15 16:58:22.133 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 16:58:22.168 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 16:58:22.174 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 1386.9427ms
2026-02-15 16:58:22.175 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:58:22.177 -03:00 [INF] HTTP POST /api/Auth/login responded 401 in 1408.4280 ms
2026-02-15 16:58:22.183 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/Auth/login - 401 null application/json; charset=utf-8 1426.1136ms
2026-02-15 16:58:31.735 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/Auth/login - application/json 50
2026-02-15 16:58:31.740 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:58:31.741 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:58:31.796 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 16:58:31.798 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 16:58:31.802 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 60.2404ms
2026-02-15 16:58:31.803 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:58:31.804 -03:00 [INF] HTTP POST /api/Auth/login responded 401 in 66.6098 ms
2026-02-15 16:58:31.807 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/Auth/login - 401 null application/json; charset=utf-8 71.7663ms
2026-02-15 16:59:48.909 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/Auth/login - application/json 52
2026-02-15 16:59:48.912 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:59:48.913 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 16:59:48.948 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 16:59:49.631 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioSistema] SET [ultimo_acceso] = @p0
OUTPUT 1
WHERE [id_usuario] = @p1;
2026-02-15 16:59:49.677 -03:00 [INF] Executing OkObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 16:59:49.692 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 775.7252ms
2026-02-15 16:59:49.696 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 16:59:49.700 -03:00 [INF] HTTP POST /api/Auth/login responded 200 in 787.6564 ms
2026-02-15 16:59:49.705 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/Auth/login - 200 null application/json; charset=utf-8 795.6534ms
2026-02-15 17:01:10.264 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/Canoas - null null
2026-02-15 17:01:10.282 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-15 17:01:10.287 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 17:01:10.289 -03:00 [INF] HTTP GET /api/Canoas responded 401 in 15.9569 ms
2026-02-15 17:01:10.290 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/Canoas - 401 0 null 27.0473ms
2026-02-15 17:01:21.020 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/Canoas - null null
2026-02-15 17:01:21.025 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-15 17:01:21.026 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-15 17:01:21.027 -03:00 [INF] HTTP GET /api/Canoas responded 401 in 3.9913 ms
2026-02-15 17:01:21.029 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/Canoas - 401 0 null 8.1764ms
2026-02-15 17:01:47.627 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/Auth/login - application/json 52
2026-02-15 17:01:47.630 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 17:01:47.631 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ClubCanotajeAPI.Models.Dtos.Auth.LoginRequest) on controller ClubCanotajeAPI.Controller.AuthController (ClubCanotajeApp).
2026-02-15 17:01:47.647 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id_usuario], [u].[activo], [u].[fecha_creacion], [u].[id_instructor], [u].[id_remador], [u].[id_rol], [u].[password_hash], [u].[ultimo_acceso], [u].[username], [r].[id_rol], [r].[descripcion], [r].[nombre], [r0].[id_remador], [r0].[apellido_materno], [r0].[apellido_paterno], [r0].[cert_medica_vence], [r0].[direccion], [r0].[email], [r0].[fecha_creacion], [r0].[fecha_ingreso], [r0].[fecha_modificacion], [r0].[fecha_nacimiento], [r0].[fecha_retiro], [r0].[foto_url], [r0].[genero], [r0].[id_categoria], [r0].[id_estado], [r0].[nombre_contacto_emergencia], [r0].[nombres], [r0].[observaciones], [r0].[rut], [r0].[telefono], [r0].[telefono_emergencia], [r0].[tiene_remo_propio], [r0].[tiene_salvavidas_propio], [i].[id_instructor], [i].[activo], [i].[apellido_materno], [i].[apellido_paterno], [i].[bio], [i].[email], [i].[fecha_creacion], [i].[fecha_egreso], [i].[fecha_ingreso], [i].[id_remador], [i].[nombres], [i].[rut], [i].[telefono]
FROM [UsuarioSistema] AS [u]
INNER JOIN [RolSistema] AS [r] ON [u].[id_rol] = [r].[id_rol]
LEFT JOIN [Remador] AS [r0] ON [u].[id_remador] = [r0].[id_remador]
LEFT JOIN [Instructor] AS [i] ON [u].[id_instructor] = [i].[id_instructor]
WHERE [u].[username] = @__username_0 AND [u].[activo] = CAST(1 AS bit)
2026-02-15 17:01:47.800 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UsuarioSistema] SET [ultimo_acceso] = @p0
OUTPUT 1
WHERE [id_usuario] = @p1;
2026-02-15 17:01:47.804 -03:00 [INF] Executing OkObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[ClubCanotajeAPI.Models.Dtos.Auth.LoginResponse, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-15 17:01:47.806 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp) in 172.9509ms
2026-02-15 17:01:47.807 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.AuthController.Login (ClubCanotajeApp)'
2026-02-15 17:01:47.808 -03:00 [INF] HTTP POST /api/Auth/login responded 200 in 178.0974 ms
2026-02-15 17:01:47.810 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/Auth/login - 200 null application/json; charset=utf-8 183.5075ms
2026-02-15 17:02:00.462 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/Canoas - null null
2026-02-15 17:02:00.507 -03:00 [INF] Executing endpoint 'ClubCanotajeAPI.Controller.CanoasController.GetAll (ClubCanotajeApp)'
2026-02-15 17:02:00.511 -03:00 [INF] Route matched with {action = "GetAll", controller = "Canoas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ClubCanotajeAPI.Controller.CanoasController (ClubCanotajeApp).
2026-02-15 17:02:00.540 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id_canoa], [c].[anio_fabricacion], [c].[codigo], [c].[color], [c].[fecha_adquisicion], [c].[fecha_creacion], [c].[fecha_modificacion], [c].[id_estado], [c].[id_tipo_canoa], [c].[marca], [c].[modelo], [c].[nombre], [c].[numero_serie], [c].[observaciones], [c].[proxima_revision], [c].[ultima_revision], [t].[id_tipo_canoa], [t].[capacidad_max], [t].[capacidad_min], [t].[descripcion], [t].[nombre], [e].[id_estado], [e].[descripcion], [e].[nombre]
FROM [Canoa] AS [c]
INNER JOIN [TipoCanoa] AS [t] ON [c].[id_tipo_canoa] = [t].[id_tipo_canoa]
INNER JOIN [EstadoCanoa] AS [e] ON [c].[id_estado] = [e].[id_estado]
2026-02-15 17:02:00.544 -03:00 [INF] Executing OkObjectResult, writing value of type 'ClubCanotajeAPI.Models.Dtos.Common.ApiResponse`1[[System.Collections.Generic.List`1[[ClubCanotajeAPI.Models.Dtos.Canoa.CanoaDto, ClubCanotajeApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-15 17:02:00.551 -03:00 [INF] Executed action ClubCanotajeAPI.Controller.CanoasController.GetAll (ClubCanotajeApp) in 38.6006ms
2026-02-15 17:02:00.552 -03:00 [INF] Executed endpoint 'ClubCanotajeAPI.Controller.CanoasController.GetAll (ClubCanotajeApp)'
2026-02-15 17:02:00.553 -03:00 [INF] HTTP GET /api/Canoas responded 200 in 89.0265 ms
2026-02-15 17:02:00.555 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/Canoas - 200 null application/json; charset=utf-8 93.3486ms
2026-02-15 17:27:25.513 -03:00 [INF] User profile is available. Using 'C:\Users\Dieg0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-15 17:27:25.702 -03:00 [INF] Now listening on: https://localhost:7001
2026-02-15 17:27:25.703 -03:00 [INF] Now listening on: http://localhost:5205
2026-02-15 17:27:25.739 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-15 17:27:25.740 -03:00 [INF] Hosting environment: Development
2026-02-15 17:27:25.740 -03:00 [INF] Content root path: C:\Users\Dieg0\source\repos\ClubCanotajeApp\ClubCanotajeApp
2026-02-15 17:27:26.625 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - null null
2026-02-15 17:27:26.764 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - 200 null text/html;charset=utf-8 141.9742ms
2026-02-15 17:27:26.766 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - null null
2026-02-15 17:27:26.766 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-15 17:27:26.780 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 13.5008ms
2026-02-15 17:27:26.804 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.412ms
2026-02-15 17:27:26.846 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - null null
2026-02-15 17:27:26.864 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.4482ms
2026-02-15 17:27:34.281 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/ - null null
2026-02-15 17:27:34.351 -03:00 [INF] HTTP GET / responded 404 in 59.3771 ms
2026-02-15 17:27:34.354 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/ - 404 0 null 72.7555ms
2026-02-15 17:27:34.358 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7001/, Response status code: 404
2026-02-15 17:29:04.898 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/healt - null null
2026-02-15 17:29:04.913 -03:00 [INF] HTTP GET /healt responded 404 in 0.9945 ms
2026-02-15 17:29:04.918 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/healt - 404 0 null 20.5505ms
2026-02-15 17:29:04.921 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7001/healt, Response status code: 404
2026-02-15 17:29:16.250 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/health - null null
2026-02-15 17:29:16.257 -03:00 [INF] Executing endpoint 'Health checks'
2026-02-15 17:29:16.263 -03:00 [INF] Executed endpoint 'Health checks'
2026-02-15 17:29:16.264 -03:00 [INF] HTTP GET /health responded 200 in 8.6827 ms
2026-02-15 17:29:16.265 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/health - 200 null text/plain 14.994ms
2026-02-15 17:29:16.283 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/favicon.ico - null null
2026-02-15 17:29:16.285 -03:00 [INF] HTTP GET /favicon.ico responded 404 in 0.1136 ms
2026-02-15 17:29:16.287 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/favicon.ico - 404 0 null 3.7377ms
2026-02-15 17:29:16.289 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7001/favicon.ico, Response status code: 404
